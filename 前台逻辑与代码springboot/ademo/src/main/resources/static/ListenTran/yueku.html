<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>主页唱</title>
    <script type="text/javascript">

        document.addEventListener('plusready', function () {
            //console.log("所有plus api都应该在此事件发生后调用，否则会出现plus is undefined。"

        });

    </script>
</head>
<script type="text/javascript" src="./js/new_file.js"></script>
<link href="./css/yueku.css" type="text/css" rel="stylesheet"/>
<link href="./css/common.css" type="text/css" rel="stylesheet"/>
<body>
<div class="top">
    <a href="./index.html">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 1024 1024" width="200" height="200"
             t="1574580567312" p-id="5377" version="1.1">
            <path fill="#ffffff"
                  d="M 766.862 1021.72 c -10.24 0 -20.594 -3.64 -28.444 -10.922 L 228.693 538.396 c -15.701 -14.563 -15.701 -38.229 0 -52.792 L 738.418 13.198 c 15.701 -14.563 41.187 -14.563 56.889 0 c 15.701 14.564 15.701 38.23 0 52.793 L 314.027 512 l 481.28 446.009 c 15.701 14.563 15.701 38.23 0 52.793 c -7.851 7.282 -18.205 10.922 -28.445 10.922 Z"
                  p-id="5378"/>
        </svg>
    </a>
    <h2>乐库</h2>
    <a href="./find.html">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 1024 1024" width="200" height="200"
             t="1574580718069" p-id="6200" version="1.1">
            <path fill="#ffffff"
                  d="M 222.694 222.797 A 323.149 323.149 0 0 0 133.683 512 c 19.2512 -87.3728 64.512 -172.749 135.014 -243.302 C 339.251 198.118 424.627 152.883 512 133.632 c -101.632 -19.1488 -210.688 10.5216 -289.306 89.1648 Z"
                  p-id="6201"/>
            <path fill="#ffffff"
                  d="M 989.44 822.118 l -121.702 -121.702 a 118.016 118.016 0 0 0 -92.8 -34.1248 c 114.458 -165.555 97.92 -394.394 -49.4848 -541.824 c -165.939 -165.99 -435.046 -165.99 -601.037 0 c -165.939 165.99 -165.939 435.123 0 601.114 c 147.405 147.43 376.064 163.84 541.722 49.3824 c -2.56 33.28 8.8576 67.5328 34.1248 92.8 l 121.702 121.728 c 46.08 45.9776 121.37 45.9776 167.347 0 c 46.208 -45.9776 46.208 -121.293 0.128 -167.373 Z M 676.096 676.096 c -138.675 138.675 -363.392 138.675 -502.016 0 c -138.675 -138.675 -138.675 -363.443 0 -502.118 c 138.624 -138.675 363.341 -138.675 502.016 0 c 138.65 138.573 138.65 363.443 0 502.118 Z"
                  p-id="6202"/>
        </svg>
    </a>
</div>
<div class="top_1">
    <ul id="top_11">
        <li><a href="#">推荐</a></li>
        <li><a href="#">排行榜</a></li>
        <li><a href="#">歌手</a></li>
        <li><a href="#">分类</a></li>
    </ul>
</div>
<div class="midden">
    <ul class="tuijian">
        <li class="t_li">
            <div class="t_di">
                <div class="t_di_di" id="changting">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 1024 1024" width="200"
                         height="200" t="1574581815501" p-id="6990" version="1.1">
                        <path fill="#e11b88"
                              d="M 628.918 939.717 c 0 11.304 -9.163 20.467 -20.467 20.467 H 415.55 c -11.304 0 -20.467 -9.163 -20.467 -20.467 V 84.282 c 0 -11.304 9.163 -20.467 20.467 -20.467 h 192.901 c 11.304 0 20.467 9.163 20.467 20.467 v 855.435 Z"
                              p-id="6991"/>
                    </svg>
                    <h3>畅听热歌</h3>
                </div>
                <a href="#">更多</a>
            </div>
            <div class="zhe211" id="rege">

            </div>
        </li>
        <li class="t_li">
            <div class="t_di">
                <div class="t_di_di">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 1024 1024" width="200"
                         height="200" t="1574581815501" p-id="6990" version="1.1">
                        <path fill="#e11b88"
                              d="M 628.918 939.717 c 0 11.304 -9.163 20.467 -20.467 20.467 H 415.55 c -11.304 0 -20.467 -9.163 -20.467 -20.467 V 84.282 c 0 -11.304 9.163 -20.467 20.467 -20.467 h 192.901 c 11.304 0 20.467 9.163 20.467 20.467 v 855.435 Z"
                              p-id="6991"/>
                    </svg>
                    <h3>热门歌曲</h3>
                </div>
                <a href="#">更多</a>
            </div>
            <div class="zhe211" id="remen">

            </div>
        </li>
    </ul>
    <ul class="paihangbang">
        <ul class="xingge">

        </ul>
    </ul>
    <ul class="geshou">
    </ul>
    <ul class="fenlei"></ul>
</div>
<div class="footer">
    <a>畅听，听你想听的音乐</a>
    <div class="footer_svg">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon1" viewBox="0 0 1024 1024" width="200" height="200"
             t="1574234391004" p-id="9867" version="1.1">
            <path fill="#ffffff"
                  d="M 512 1024 C 229.236 1024 0 794.764 0 512 S 229.236 0 512 0 s 512 229.236 512 512 s -229.236 512 -512 512 Z m 0 -46.5455 c 257.071 0 465.455 -208.384 465.455 -465.455 S 769.071 46.5455 512 46.5455 S 46.5455 254.929 46.5455 512 s 208.384 465.455 465.455 465.455 Z m 170.17 -446.324 L 443.811 696.18 a 23.2727 23.2727 0 0 1 -36.5149 -19.1535 V 346.996 a 23.2727 23.2727 0 0 1 36.5382 -19.1535 l 238.359 165.05 a 23.2727 23.2727 0 0 1 0 38.2604 Z"
                  p-id="9868"/>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 1144 1024" width="200" height="200"
             t="1574234474257" p-id="12006" version="1.1">
            <path fill="#ffffff"
                  d="M 75.2941 150.588 a 75.2941 75.2941 0 1 1 0 -150.588 a 75.2941 75.2941 0 0 1 0 150.588 Z m 0 421.647 a 75.2941 75.2941 0 1 1 0 -150.588 a 75.2941 75.2941 0 0 1 0 150.588 Z m 0 421.647 a 75.2941 75.2941 0 1 1 0 -150.588 a 75.2941 75.2941 0 0 1 0 150.588 Z M 301.176 963.765 a 45.1765 45.1765 0 1 1 0 -90.3529 h 783.059 a 45.1765 45.1765 0 1 1 0 90.3529 H 301.176 Z m 0 -421.647 a 45.1765 45.1765 0 1 1 0 -90.3529 h 783.059 A 45.1765 45.1765 0 1 1 1084.24 542.118 H 301.176 Z m 0 -421.647 A 45.1765 45.1765 0 1 1 301.176 30.1176 h 783.059 A 45.1765 45.1765 0 1 1 1084.24 120.471 H 301.176 Z"
                  p-id="12007"/>
        </svg>
    </div>
</div>
</body>
</html>
<script type="text/javascript">
    $(window).load(function () {
        $('body').css('height', $(document)[0].scrollHeight);
        $('.midden>ul:eq(0)').siblings('.midden ul').hide();
        $('.top_11>li:eq(0)').css('font-size', '1.5rem');
        $('.midden>ul:eq(0)').show();
        $('#top_11>li').mouseover(function () {
            var index = $(this).index();
            $('.top_11>li:eq(' + index + ')').css('font-size', '1.5rem');
            $('.top_11>li:eq(' + index + ')').siblings('.top_11 li').css('font-size', '1rem');
            $('.midden>ul:eq(' + index + ')').siblings('.midden ul').hide();
            $('.midden>ul:eq(' + index + ')').show();
        });
        // 	//<option value=1>畅听热歌</option>
        // <option value=2>热门歌曲</option>
        $.ajax({
            type: "post",
            url: "/musicyuke/" + 1,                        //畅听热歌
            dataType: "json",
            contentType: "application/json;charset=UTF-8",
            success: function (data) {
                var rege = "";
                for (var i = 0; i < data.length; i++) {
                    rege += `
				                    <figure>
					                 <a href="#"><img src="/ShowImage/${data[i].music_image}" alt="" /></a>
					                 <figcaption>${data[i].music_name}</figcaption>
				                    </figure>
                      `;
                }
                $('#rege').append(rege);
            }

        })
        $.ajax({
            type: "post",
            url: "/musicyuke/" + 2,                        //畅听热歌
            dataType: "json",
            contentType: "application/json;charset=UTF-8",
            success: function (data) {
                var rege = "";
                for (var i = 0; i < data.length; i++) {
                    rege += `
				                    <figure>
					                 <a href="#"><img src="/ShowImage/${data[i].music_image}" alt="" /></a>
					                 <figcaption>${data[i].music_name}</figcaption>
				                    </figure>
                      `;
                }
                $('#remen').append(rege);
            }
        })
        $.ajax({
            type: "post",
            url: "/musichot",                        //排行榜
            dataType: "json",
            contentType: "application/json;charset=UTF-8",
            success: function (data) {
                var rege = "";
                for (var i = 0; i < data.length; i++) {
                    rege += `
				  <li>
                <h2>${i+1}</h2>
                <a href="#">
						<img src="/ShowImage/${data[i].music_image}">
						<div class="x3">
						<p>${data[i].music_name}</p>
						<a>${data[i].author.author_name}</a>
						<div class="xmv">
						<a href="discuss.html" class="xmv_a1">
						<input type="hidden" value="${data[i].music_id}" id="muid">
						<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 1024 1024" width="200" height="200" t="1574231804469" p-id="5043" version="1.1"><path fill="#4d4d4d" d="M 755.2 389.12 c -33.28 0 -61.44 28.16 -61.44 61.44 S 721.92 512 755.2 512 s 61.44 -28.16 61.44 -61.44 s -28.16 -61.44 -61.44 -61.44 Z M 512 816.64 c -35.84 0 -69.12 -5.12 -102.4 -10.24 l -143.36 87.04 l 2.56 -140.8 C 158.72 686.08 87.04 578.56 87.04 453.12 C 87.04 250.88 276.48 87.04 512 87.04 c 235.52 0 424.96 163.84 424.96 363.52 c 0 202.24 -189.44 366.08 -424.96 366.08 Z m 0 -791.04 c -268.8 0 -486.4 189.44 -486.4 424.96 c 0 133.12 71.68 253.44 181.76 332.8 V 998.4 l 212.48 -130.56 c 30.72 5.12 58.88 7.68 92.16 7.68 c 268.8 0 486.4 -189.44 486.4 -424.96 C 998.4 215.04 780.8 25.6 512 25.6 Z M 268.8 389.12 c -33.28 0 -61.44 28.16 -61.44 61.44 S 235.52 512 268.8 512 s 61.44 -28.16 61.44 -61.44 s -28.16 -61.44 -61.44 -61.44 Z m 243.2 0 c -33.28 0 -61.44 28.16 -61.44 61.44 S 478.72 512 512 512 s 61.44 -28.16 61.44 -61.44 s -28.16 -61.44 -61.44 -61.44 Z m 0 0" p-id="5044" /></svg>
						<h7>${data[i].dcount}</h7>
						</a>
						<a href="#">
						<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 1024 1024" width="200" height="200" t="1574232873756" p-id="9078" version="1.1"><path fill="#4d4d4d" d="M 173.4 271.4 C 300.1 247.9 413 236.2 512 236.2 s 211.9 11.7 338.5 35.2 c 43.6 8.1 75.2 46.1 75.2 90.4 v 300.5 c 0 44.3 -31.6 82.3 -75.2 90.4 c -126.1 23.4 -239 35.1 -338.6 35.1 s -212.5 -11.7 -338.6 -35.1 c -43.6 -8.1 -75.2 -46.1 -75.2 -90.4 V 361.8 c 0.1 -44.4 31.8 -82.4 75.3 -90.4 Z m -29.2 90.4 v 300.5 c 0 22.1 15.8 41.1 37.6 45.2 c 123.5 22.9 233.6 34.4 330.2 34.4 s 206.7 -11.5 330.2 -34.4 c 21.8 -4.1 37.6 -23.1 37.6 -45.2 V 361.8 c 0 -22.2 -15.8 -41.2 -37.6 -45.2 c -124 -23 -234.1 -34.4 -330.2 -34.4 s -206.2 11.5 -330.2 34.4 c -21.8 4 -37.6 23 -37.6 45.2 Z" p-id="9079" /><path fill="#4d4d4d" d="M 173.4 271.4 C 300.1 247.9 413 236.2 512 236.2 s 211.9 11.7 338.5 35.2 c 43.6 8.1 75.2 46.1 75.2 90.4 v 300.5 c 0 44.3 -31.6 82.3 -75.2 90.4 c -126.1 23.4 -239 35.1 -338.6 35.1 s -212.5 -11.7 -338.6 -35.1 c -43.6 -8.1 -75.2 -46.1 -75.2 -90.4 V 361.8 c 0.1 -44.4 31.8 -82.4 75.3 -90.4 Z m -29.2 90.4 v 300.5 c 0 22.1 15.8 41.1 37.6 45.2 c 123.5 22.9 233.6 34.4 330.2 34.4 s 206.7 -11.5 330.2 -34.4 c 21.8 -4.1 37.6 -23.1 37.6 -45.2 V 361.8 c 0 -22.2 -15.8 -41.2 -37.6 -45.2 c -124 -23 -234.1 -34.4 -330.2 -34.4 s -206.2 11.5 -330.2 34.4 c -21.8 4 -37.6 23 -37.6 45.2 Z" p-id="9080" /><path fill="#4d4d4d" d="M 558.2 380.4 h 85.1 l 59.3 189.5 L 761 380.3 h 82.6 l -97.7 263.3 h -88.2 l -99.5 -263.2 Z m -322 0 h 107 l 41.3 160.2 l 41.1 -160.2 h 106.7 v 263.3 h -66.4 V 442.9 l -51.5 200.8 h -60.2 l -51.4 -200.8 v 200.8 h -66.6 V 380.4 Z" p-id="9081" /></svg>
						</a>
						</div>
						</div>
						</a>
						<div class="d3">
						<svg xmlns="http://www.w3.org/2000/svg" id="player" class="player" viewBox="0 0 1024 1024" width="200" height="200" t="1574231941234" p-id="8248" version="1.1"><path fill="#4d4d4d" d="M 465.408 334.848 l 220.16 147.456 c 16.384 11.264 16.384 35.328 0 46.592 l -220.16 147.456 c -18.944 12.8 -44.544 -0.512 -44.544 -23.552 V 357.888 c 0 -22.528 25.6 -35.84 44.544 -23.04 Z" p-id="8249" /><path fill="#4d4d4d" d="M 507.904 898.56 c -217.088 0 -393.216 -176.64 -393.216 -393.216 c 0 -217.088 176.64 -393.216 393.216 -393.216 S 901.12 288.768 901.12 505.344 c 0.512 217.088 -176.128 393.216 -393.216 393.216 Z m 0 -745.472 c -194.56 0 -352.256 158.208 -352.256 352.256 s 158.208 352.256 352.256 352.256 c 194.56 0 352.256 -158.208 352.256 -352.256 s -157.696 -352.256 -352.256 -352.256 Z" p-id="8250" /></svg>
                       <input type="hidden" value="${data[i].music_id}" id="player2">
						<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 1024 1024" width="200" height="200" t="1574231658289" p-id="4237" version="1.1"><path fill="#4d4d4d" d="M 500.093 419.556 c -52.6071 0 -95.2524 41.2597 -95.2524 92.1559 c 0 50.8972 42.6453 92.1559 95.2524 92.1559 c 52.6051 0 95.2504 -41.2597 95.2504 -92.1559 C 595.344 460.815 552.698 419.556 500.093 419.556 Z M 928.726 419.556 c -52.6071 0 -95.2504 41.2597 -95.2504 92.1559 c 0 50.8972 42.6432 92.1559 95.2504 92.1559 s 95.2524 -41.2597 95.2524 -92.1559 C 1023.98 460.815 981.332 419.556 928.726 419.556 Z M 95.2719 419.556 c -52.6051 0 -95.2504 41.2597 -95.2504 92.1559 c 0 50.8972 42.6453 92.1559 95.2504 92.1559 c 52.6071 0 95.2524 -41.2597 95.2524 -92.1559 C 190.524 460.815 147.879 419.556 95.2719 419.556 Z" p-id="4238" /></svg>
						</div>
						</li>`
                }
                $('.xingge').append(rege);
                $(".xmv_a1").click(function () {
                    t=$(this).children('#muid').val();
                    t=parseInt(t);
                    localStorage.setItem("music_id",t);
                })
                $('.player').click(function () {
                    t=$(this).next('#player2').val();
                    localStorage.setItem("music_id",t);
                    window.location.href="player.html";
                })
            }

        })
        $.ajax({
            type: "post",
            url: "/authorall",                        //歌手
            dataType: "json",
            contentType: "application/json;charset=UTF-8",
            success: function (data) {
                var rege = "";
                for (var i = 0; i < data.length; i++) {
                    rege += `
 <li class="geshoul">
 ${i+1}
            <img src="/AuthorShowImage/${data[i].author_image}" id="author_img"/>
            <div class="author_name">
                ${data[i].author_name}
            </div>
        </li>`
                }
                $('.geshou').append(rege);
            }
        })
    });
    $(window).resize(function () {
        $('body').css('height', $(window).height());
    });
</script>	
