<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>注册</title>
    <script type="text/javascript">
    	
   		document.addEventListener('plusready', function(){
   			//console.log("所有plus api都应该在此事件发生后调用，否则会出现plus is undefined。"
   			
   		});
   		
    </script>
</head>
<link href="./css/login.css" type="text/css" rel="stylesheet"/>
<link href="./css/common.css" type="text/css" rel="stylesheet"/>
<link href="./css/reginst.css" type="text/css" rel="stylesheet"/>
<script type="text/javascript" src="./js/new_file.js"></script>
<body>
	<div class="top">
		<img src="./img/changting.png">
	</div>
	<div class="middle">
		<div class="i1">
			<svg id="icons" xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 1024 1024" width="200" height="200" t="1575544365422" p-id="3997" version="1.1"><path fill="#ffffff" d="M 931.779 1024 c -10.2385 0 -15.3578 -10.2385 -15.3578 -15.3578 c 0 -143.339 -117.743 -168.935 -189.412 -189.412 c -15.3578 -5.11926 -30.7155 -5.11926 -40.954 -10.2385 c -35.8348 -15.3578 -61.4311 -46.0733 -66.5503 -81.9081 c 0 -20.477 5.11926 -35.8348 20.477 -46.0733 c 30.7155 -20.477 46.0733 -56.3118 56.3118 -87.0273 c 10.2385 -20.477 15.3578 -40.954 30.7155 -51.1926 c 15.3578 -15.3578 46.0733 -66.5503 51.1926 -92.1466 c 0 -5.11926 -5.11926 -15.3578 -10.2385 -25.5963 c -10.2385 -15.3578 -15.3578 -35.8348 -5.11926 -56.3118 c 51.1926 -117.743 -46.0733 -245.724 -61.4311 -261.082 c -10.2385 -10.2385 -20.477 -10.2385 -30.7155 -5.11926 c -15.3578 0 -30.7155 5.11926 -56.3118 -20.477 c -35.8348 -40.954 -174.055 -76.7888 -271.321 5.11926 c -122.862 92.1466 -102.385 204.77 -87.0273 266.201 c 0 10.2385 5.11926 20.477 5.11926 30.7155 c 0 20.477 -5.11926 30.7155 -10.2385 40.954 c -5.11926 15.3578 -10.2385 25.5963 0 56.3118 c 10.2385 20.477 15.3578 30.7155 25.5963 40.954 c 10.2385 10.2385 25.5963 20.477 30.7155 51.1926 c 15.3578 51.1926 35.8348 87.0273 61.4311 102.385 c 25.5963 15.3578 35.8348 51.1926 25.5963 81.9081 c -10.2385 30.7155 -35.8348 51.1926 -71.6696 51.1926 c -215.009 0 -220.128 194.532 -220.128 199.651 c 5.11926 10.2385 0 15.3578 -10.2385 15.3578 s -15.3578 -10.2385 -15.3578 -15.3578 c 0 0 10.2385 -235.486 255.963 -235.486 c 25.5963 0 35.8348 -15.3578 35.8348 -25.5963 c 5.11926 -15.3578 0 -30.7155 -10.2385 -40.954 c -30.7155 -20.477 -56.3118 -66.5503 -76.7888 -122.862 c -5.11926 -20.477 -15.3578 -25.5963 -25.5963 -35.8348 c -10.2385 -10.2385 -25.5963 -25.5963 -35.8348 -56.3118 c -15.3578 -40.954 -10.2385 -61.4311 0 -76.7888 c 5.11926 -10.2385 5.11926 -15.3578 5.11926 -30.7155 c 0 -5.11926 0 -15.3578 -5.11926 -25.5963 c -10.2385 -61.4311 -40.954 -189.412 97.2658 -302.036 c 117.743 -92.1466 271.321 -56.3118 317.394 0 c 10.2385 10.2385 10.2385 10.2385 20.477 5.11926 c 10.2385 0 30.7155 -5.11926 56.3118 10.2385 c 25.5963 20.477 133.101 163.816 76.7888 302.036 c -5.11926 5.11926 0 15.3578 5.11926 30.7155 s 15.3578 30.7155 10.2385 51.1926 c -5.11926 30.7155 -35.8348 92.1466 -61.4311 112.624 c -5.11926 5.11926 -15.3578 20.477 -20.477 40.954 c -15.3578 35.8348 -30.7155 76.7888 -71.6696 102.385 c 0 0 -5.11926 5.11926 -5.11926 15.3578 c 0 15.3578 20.477 40.954 46.0733 51.1926 c 5.11926 5.11926 20.477 5.11926 35.8348 10.2385 c 76.7888 20.477 215.009 51.1926 215.009 220.128 c 5.11926 5.11926 0 15.3578 -10.2385 15.3578 Z" p-id="3998" /></svg>
			<input type="text"  id="nichengname" placeholder="请输入你的昵称">
			<svg id="delete"  class="delete3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" width="200" height="200" t="1574061935144" p-id="13315" version="1.1"><path fill="#ffffff" d="M 512 620.544 l 253.338 253.338 a 76.6976 76.6976 0 1 0 108.544 -108.544 L 620.646 512 l 253.235 -253.338 a 76.6976 76.6976 0 1 0 -108.544 -108.544 L 512 403.354 L 258.662 150.118 a 76.6976 76.6976 0 1 0 -108.544 108.544 L 403.354 512 L 150.118 765.338 a 76.6976 76.6976 0 1 0 108.544 108.544 L 512 620.646 Z" p-id="13316" /></svg>
		</div>
		<div class="s3"> </div>
	     <div class="i1">
            <svg id="icons" xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 1024 1024" width="200" height="200" t="1574060568654" p-id="8764" version="1.1"><path fill="#ffffff" d="M 671.642 1024 H 352.338 A 191.795 191.795 0 0 1 160.768 832 v -128 a 191.345 191.345 0 0 1 129.29 -180.736 c -40.96 -55.296 -65.4336 -126.075 -65.4336 -203.264 C 224.625 143.36 353.28 0 512 0 s 287.375 143.36 287.375 320 c 0 77.1891 -24.576 147.988 -65.536 203.264 A 191.365 191.365 0 0 1 863.232 704 v 128 A 191.795 191.795 0 0 1 671.642 1024 Z m 63.8566 -704 c 0 -141.312 -100.065 -256 -223.519 -256 s -223.519 114.688 -223.519 256 s 100.065 256 223.519 256 s 223.519 -114.688 223.519 -256 Z m 63.8566 399.995 c 0 -68.0346 -51.5277 -124.703 -120.566 -139.776 c -47.104 37.4784 -104.448 59.7606 -166.81 59.7606 S 392.192 617.718 345.088 580.239 c -69.0381 15.0528 -120.566 71.68 -120.566 139.776 v 95.9898 c 0 79.5238 70.185 143.995 156.754 143.995 h 261.345 c 86.569 0 156.754 -64.471 156.754 -143.995 v -96.0102 Z" p-id="8765" /></svg>
			<input type="text"  id="username" placeholder="请输入你的账号">
			<svg id="delete"  class="delete1" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 1024 1024" width="200" height="200" t="1574061935144" p-id="13315" version="1.1"><path fill="#ffffff" d="M 512 620.544 l 253.338 253.338 a 76.6976 76.6976 0 1 0 108.544 -108.544 L 620.646 512 l 253.235 -253.338 a 76.6976 76.6976 0 1 0 -108.544 -108.544 L 512 403.354 L 258.662 150.118 a 76.6976 76.6976 0 1 0 -108.544 108.544 L 403.354 512 L 150.118 765.338 a 76.6976 76.6976 0 1 0 108.544 108.544 L 512 620.646 Z" p-id="13316" /></svg>
		 </div>
		 <div class="s1"> </div>
		 <div class="i1">
			<svg id="icons" xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 1024 1024" width="200" height="200" t="1574061548021" p-id="10144" version="1.1"><path fill="#ffffff" d="M 767.94 380.326 H 301.176 v -58.4282 C 301.176 192.753 383.819 87.7026 516.698 87.7026 c 122.097 0.120471 202.692 104.388 202.692 243.471 v 54.4527 c 0 14.0951 32.9487 29.0936 56.8019 21.6847 c 23.7327 -7.40894 36.8038 -5.54165 36.8038 -19.0344 V 331.294 c 0 -183.597 -115.049 -330.993 -296.358 -331.234 C 334.065 -0.240941 210.824 144.384 210.824 321.837 v 63.8494 C 124.627 405.564 60.2353 480.678 60.2353 570.248 v 234.135 c 0 104.749 87.8231 189.922 195.825 189.922 h 511.88 c 108.002 0 195.825 -85.1727 195.825 -189.922 V 570.248 c 0 -104.689 -87.8231 -189.922 -195.825 -189.922 Z M 873.412 802.334 c 0 56.32 -43.6706 102.159 -97.3402 102.159 H 247.928 c -53.6094 0 -97.3402 -45.8391 -97.3402 -102.159 V 570.248 c 0 -56.32 43.6706 -102.159 97.3402 -102.159 h 528.143 c 53.6094 0 97.3402 45.8391 97.3402 102.159 v 232.026 Z" p-id="10145" /></svg>
		 <input type="password"  id="password" placeholder="请输入你的密码">
		 <svg id="delete" class="delete2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" width="200" height="200" t="1574061935144" p-id="13315" version="1.1"><path fill="#ffffff" d="M 512 620.544 l 253.338 253.338 a 76.6976 76.6976 0 1 0 108.544 -108.544 L 620.646 512 l 253.235 -253.338 a 76.6976 76.6976 0 1 0 -108.544 -108.544 L 512 403.354 L 258.662 150.118 a 76.6976 76.6976 0 1 0 -108.544 108.544 L 403.354 512 L 150.118 765.338 a 76.6976 76.6976 0 1 0 108.544 108.544 L 512 620.646 Z" p-id="13316" /></svg>
		 </div>
		 <div class="s2"> </div>
	</div>
	<div class="footer">
		<div id="dh">
			<a href="./login.html">返回登录</a>
		</div>
		<div class="deng">
		    <input type="button" id="button" value="注册">
		</div>
	</a>
</html>
</body>
<script type="text/javascript">
	$(window).load(function() {
		$('body').css('height', $(window).height());
	});

	$('.delete1').click(function(){
		$('#username').val("");
		$('.s1').html("");
		$('.s2').html("");
		$('.s3').html("");
	});
	$('.delete2').click(function(){
		$('input[type=password]').val("");
		$('.s1').html("");
		$('.s2').html("");
		$('.s3').html("");
	});
	$('.delete3').click(function(){
		$('#nichengname').val("");
		$('.s1').html("");
		$('.s2').html("");
		$('.s3').html("");
	});
	$('#username').on('input properchange',function(e){
		$('.s1').html("");
	})
	$('input[type=password]').on('input properchange',function(e){
		$('.s2').html("");
	})
	$('#nichengname').on('input properchange',function(e){
		$('.s3').html("");
	})
	$('#button').click(function(){
		var s=" ";
		var user_code=$("#username").val();
		var user_password=$("#password").val();
		var user_name=$("#nichengname").val();
		if($('#username').val()=="" || $('#username').val()==null|| $('#username').val().length!=11){
			s=`<a>手机号长度有误,要满足十一位数</a>`;
			$('.s1').html(s);
			$('.s2').html(" ");
			$('.s3').html(" ");
		}else if($('input[type=password]').val()==""||$('input[type=password]').val()==null){
			s= `<a>密码为空</a>`;
			$('.s1').html(" ");
			$('.s2').html(s);
			$('.s3').html(" ");
		}else if($('#nichengname').val()==""||$('#nichengname').val()==null){
			s= `<a>昵称为空</a>`;
			$('.s1').html(" ");
			$('.s2').html("");
			$('.s3').html(s);
		}else{
			$('.s1').html(s);
			$('.s2').html(s);
			$('.s3').html(s);
		}
		$.ajax({

			//地址
			url :"/register/"+user_code+"/"+user_password+"/"+user_name,
			//提交方式
			type : "POST",
			//发送请求时所传递的参数
			//返回的数据使用json
			dataType : "json",
			//成功
			success : function(data){
				if(data==1){
					alert("注册成功");
					window.location.href = "./login.html";
					//console.log("用户名为："+data.username+"，密码为："+data.password);
				}
				else if(data==2){
					s= `<a>注册手机号已存在</a>`;
					$('.s1').html(s);
					$('.s2').html(" ");
					$('.s3').html(" ");
				}
				else if(data==3){
					s= `<a>密码已存在</a>`;
					$('.s1').html(" ");
					$('.s2').html(s);
					$('.s3').html(" ");
				}
				else if(data==4){
					s= `<a>昵称已存在</a>`;
					$('.s1').html(" ");
					$('.s2').html(" ");
					$('.s3').html(s);
				}
				else {
					$('.s1').html(" ");
					$('.s2').html(" ");
					$('.s3').html(" ");
				}
			}
		});
	});

</script>